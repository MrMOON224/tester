<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School - Excellence in Education</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Fonts: Merriweather (Serif for Prestige) & Inter (Clean Sans for Readability) -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        school: {
                            navy: '#0F172A',
                            gold: '#D4AF37',
                            cream: '#F9FAFB',
                            blue: '#1E40AF'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .hero-pattern {
            background-color: #0F172A;
            background-image: url("https://www.transparenttextures.com/patterns/cubes.png");
        }

        .card-hover {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        /* Teacher Org Chart Lines */
        .org-connector {
            position: absolute;
            top: -2rem;
            left: 50%;
            width: 2px;
            height: 2rem;
            background-color: #CBD5E1;
            display: none;
        }

        @media(min-width: 768px) {
            .org-connector {
                display: block;
            }
        }
    </style>
</head>

<body class="bg-school-cream text-slate-800 antialiased">

    <!-- Navbar -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <!-- Logo -->
                <div class="flex items-center gap-3">
                    <div
                        class="w-10 h-10 bg-school-navy text-school-gold flex items-center justify-center rounded-lg font-serif font-bold text-2xl">
                        S</div>
                    <div>
                        <h1 class="text-xl font-bold text-school-navy font-serif leading-none">School</h1>
                        <p class="text-[10px] text-slate-500 uppercase tracking-widest">Est. 2026</p>
                    </div>
                </div>

                <!-- Desktop Nav -->
                <div class="hidden md:flex space-x-8 text-sm font-medium text-slate-600">
                    <a href="#home" class="hover:text-school-blue transition">Home</a>
                    <a href="#about" class="hover:text-school-blue transition">About</a>
                    <a href="#campus" class="hover:text-school-blue transition">Campus</a>
                    <a href="#tuition" class="hover:text-school-blue transition">Admissions</a>
                    <a href="#announcements" class="hover:text-school-blue transition">News</a>
                </div>

                <!-- CTA -->
                <div class="hidden md:block">
                    <a href="#contact"
                        class="bg-school-navy text-white px-5 py-2.5 rounded hover:bg-slate-800 transition text-sm font-semibold">Contact
                        Us</a>
                </div>

                <!-- Mobile Menu Details -->
                <button id="mobile-btn" class="md:hidden text-slate-800"><i class="fas fa-bars text-xl"></i></button>
            </div>
        </div>
        <!-- Mobile Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t p-4 space-y-3 shadow-lg">
            <a href="#home" class="block font-semibold text-school-navy">Home</a>
            <a href="#campus" class="block font-medium text-slate-600">Campus</a>
            <a href="#contact" class="block font-bold text-school-blue">Contact Us</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="home" class="hero-pattern text-white py-24 md:py-32 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 text-center relative z-10">
            <h1 class="text-5xl md:text-7xl font-serif font-bold mb-6 leading-tight">
                Schoolမှ ကြိုဆိုပါတယ် <br>
                <span class="text-school-gold">Where Futures Begin</span>
            </h1>
            <p class="text-slate-300 text-lg md:text-xl max-w-2xl mx-auto mb-10 font-light">
                A nurturing environment where students are inspired to learn, grow, and achieve their full potential.
            </p>
            <div class="flex justify-center gap-4">
                <a href="#about"
                    class="bg-school-gold text-school-navy px-8 py-3 rounded font-bold hover:bg-yellow-500 transition">Learn
                    More</a>
                <a href="#contact"
                    class="border border-slate-500 px-8 py-3 rounded font-bold hover:bg-white/10 transition">Visit
                    Us</a>
            </div>
        </div>
    </header>

    <!-- Announcement Tablet Section (Restored) -->
    <section id="announcements-section" class="py-16 bg-white border-b border-slate-100 relative">
        <div class="max-w-4xl mx-auto px-4 relative z-10">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-serif font-bold text-school-navy">Latest Announcement</h3>
                <p class="text-slate-500 text-sm">Updates from the administration</p>
            </div>

            <div id="latest-announcement-container"
                class="bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden transform hover:-translate-y-1 transition duration-500">
                <div class="p-12 text-center text-slate-400 italic">Reading latest updates...</div>
            </div>
        </div>
        <!-- Decorative background elements -->
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
            <div class="absolute -top-24 -left-24 w-64 h-64 bg-school-blue/5 rounded-full blur-3xl"></div>
            <div class="absolute -bottom-24 -right-24 w-64 h-64 bg-school-gold/10 rounded-full blur-3xl"></div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
            <div>
                <h2 class="text-3xl font-serif font-bold text-school-navy mb-6">About Our School <span
                        class="block text-lg font-sans font-normal text-slate-500 mt-2">ကျောင်းအကြောင်း</span></h2>
                <p class="text-slate-600 mb-6 leading-relaxed">
                    We are proud to serve students from <strong class="text-school-navy">Pre-school to Grade 6</strong>
                    on our single, beautiful campus.
                    Our commitment is to provide a high-quality education in a safe and supportive community where every
                    child is known and valued.
                </p>

                <div class="grid grid-cols-2 gap-6 mt-8">
                    <div class="bg-slate-50 p-4 rounded border-l-4 border-school-blue">
                        <p class="text-xs font-bold text-slate-400 uppercase">Location</p>
                        <p class="font-semibold text-slate-800">57 14*13, Mandalay</p>
                    </div>
                    <div class="bg-slate-50 p-4 rounded border-l-4 border-school-gold">
                        <p class="text-xs font-bold text-slate-400 uppercase">Contact</p>
                        <p class="font-semibold text-slate-800">0943046690</p>
                    </div>
                </div>
            </div>
            <div class="relative">
                <div class="absolute inset-0 bg-school-navy/5 transform translate-x-4 translate-y-4 rounded-xl"></div>
                <img src="https://placehold.co/800x600/1e293b/FFF?text=School+Campus"
                    class="relative rounded-xl shadow-lg w-full">
            </div>
        </div>
    </section>

    <!-- Values Section (Restored Text) -->
    <section class="py-20 bg-slate-50 border-y border-slate-200">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-serif font-bold text-school-navy">Our Core Values</h2>
                <div class="w-16 h-1 bg-school-gold mx-auto mt-4"></div>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Curiosity -->
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-100 card-hover">
                    <div
                        class="w-12 h-12 bg-blue-50 text-school-blue rounded-lg flex items-center justify-center text-xl mb-6">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4">Curiosity</h3>
                    <p class="text-slate-600 text-sm leading-7">
                        ကျွန်မတို့ကျောင်းမှာတော့ သမီးတို့၊ သားတို့ရဲ့ စူးစမ်းလိုစိတ်ကို အမြဲတမ်း
                        အားပေးမြှင့်တင်ပေးပါတယ်။ ကလေးတွေ မေးခွန်းတွေ မေးတာ၊ အသစ်အဆန်းတွေကို ရှာဖွေတာနဲ့ သင်ယူတာတွေကနေ
                        တစ်သက်တာလုံးအတွက် အဖိုးတန်တဲ့ အသိပညာတွေနဲ့ အရည်အချင်းတွေကို ပိုင်ဆိုင်နိုင်ဖို့ ကူညီပေးနေတာပါ။
                    </p>
                </div>

                <!-- Community -->
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-100 card-hover">
                    <div
                        class="w-12 h-12 bg-yellow-50 text-school-gold rounded-lg flex items-center justify-center text-xl mb-6">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4">Community</h3>
                    <p class="text-slate-600 text-sm leading-7">
                        ပူးပေါင်းဆောင်ရွက်မှုဆိုတာ ကျွန်မတို့ကျောင်းရဲ့ အဓိက အုတ်မြစ်တစ်ခုပါပဲ။ တစ်ယောက်နဲ့တစ်ယောက်
                        အပြန်အလှန်လေးစားပြီး အားပေးကူညီတတ်တဲ့ ချစ်စရာကောင်းတဲ့ မိသားစုလေးလို ပတ်ဝန်းကျင်မျိုးကို
                        ဖန်တီးပေးထားပါတယ်။ ကျောင်းသားတိုင်းက ဒီမိသားစုရဲ့ အဖိုးတန်တဲ့ အစိတ်အပိုင်းလေးတွေဆိုတာ
                        ခံစားရပါစေချင်ပါတယ်။
                    </p>
                </div>

                <!-- Growth -->
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-100 card-hover">
                    <div
                        class="w-12 h-12 bg-green-50 text-green-600 rounded-lg flex items-center justify-center text-xl mb-6">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4">Growth</h3>
                    <p class="text-slate-600 text-sm leading-7">
                        ကလေးတိုင်းမှာ ကြီးထွားပြောင်းလဲလိုစိတ် ရှိနေဖို့ အရမ်းအရေးကြီးပါတယ်။ စိန်ခေါ်မှုတွေကြုံလာတဲ့အခါ
                        ရင်ဆိုင်ကျော်လွှားတတ်ဖို့ ကူညီပေးပြီး ကလေးတွေရဲ့ ခြေလှမ်းတိုင်း၊ တိုးတက်မှုတိုင်းကို အတူတူ
                        ဝမ်းသာဂုဏ်ယူပေးပါတယ်။ ဒါမှသာ သူတို့ရဲ့ အနာဂတ်အတွက် ခိုင်မာတဲ့ လမ်းကြောင်းတစ်ခုကို
                        ဖောက်လုပ်ပေးနိုင်မှာပါ။
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Events & Announcements Feed -->
    <section id="announcements" class="py-20 bg-slate-900 text-white">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-end mb-12">
                <div>
                    <h2 class="text-3xl font-serif font-bold text-white">Campus Life</h2>
                    <p class="text-slate-400 mt-2">Updates, events, and activities.</p>
                </div>
            </div>

            <div class="grid md:grid-cols-3 gap-8" id="events-grid">
                <!-- Injected JS -->
            </div>
        </div>
    </section>

    <!-- Tuition Table -->
    <section id="tuition" class="py-20 bg-white">
        <div class="max-w-4xl mx-auto px-4">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-serif font-bold text-school-navy">Tuition & Fees</h2>
                <p class="text-slate-500 font-sans mt-2">ကျောင်းစရိတ်</p>
            </div>
            <div class="bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden">
                <table class="w-full text-left">
                    <thead class="bg-slate-50 border-b border-slate-200">
                        <tr>
                            <th class="py-4 px-6 font-bold text-slate-700">Grade Level</th>
                            <th class="py-4 px-6 font-bold text-slate-700 text-right">Annual Tuition</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr>
                            <td class="py-4 px-6 text-slate-600">Pre-school</td>
                            <td class="py-4 px-6 text-right font-semibold">TBD</td>
                        </tr>
                        <tr>
                            <td class="py-4 px-6 text-slate-600">Grade 1</td>
                            <td class="py-4 px-6 text-right font-semibold">TBD</td>
                        </tr>
                        <tr>
                            <td class="py-4 px-6 text-slate-600">Grade 2</td>
                            <td class="py-4 px-6 text-right font-semibold">TBD</td>
                        </tr>
                        <tr>
                            <td class="py-4 px-6 text-slate-600">Grade 3</td>
                            <td class="py-4 px-6 text-right font-semibold">TBD</td>
                        </tr>
                        <tr>
                            <td class="py-4 px-6 text-slate-600">Grade 4</td>
                            <td class="py-4 px-6 text-right font-semibold">TBD</td>
                        </tr>
                        <tr>
                            <td class="py-4 px-6 text-slate-600">Grade 5</td>
                            <td class="py-4 px-6 text-right font-semibold">TBD</td>
                        </tr>
                        <tr>
                            <td class="py-4 px-6 text-slate-600">Grade 6</td>
                            <td class="py-4 px-6 text-right font-semibold">TBD</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Campus Gallery (Carousel) -->
    <section id="campus" class="py-20 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-3xl font-serif font-bold text-school-navy mb-10">Campus Tour</h2>
            <div class="max-w-5xl mx-auto aspect-video rounded-xl overflow-hidden shadow-2xl relative group bg-black">
                <div id="carousel-inner" class="w-full h-full relative">
                    <img src="https://placehold.co/1000x600/1e293b/FFF?text=Campus+Exterior"
                        class="carousel-slide absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-100">
                    <img src="https://placehold.co/1000x600/334155/FFF?text=Modern+Classrooms"
                        class="carousel-slide absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-0">
                    <img src="https://placehold.co/1000x600/475569/FFF?text=Library+&+Lab"
                        class="carousel-slide absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-0">
                </div>
                <!-- Controls -->
                <button onclick="changeSlide(-1)"
                    class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-3 rounded-full opacity-0 group-hover:opacity-100 transition"><i
                        class="fas fa-chevron-left"></i></button>
                <button onclick="changeSlide(1)"
                    class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-3 rounded-full opacity-0 group-hover:opacity-100 transition"><i
                        class="fas fa-chevron-right"></i></button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-school-navy text-white pt-16 pb-8" id="contact">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-3 gap-12 mb-12">
            <div>
                <h3 class="text-xl font-serif font-bold mb-4">School</h3>
                <p class="text-slate-400 text-sm leading-relaxed">
                    Commited to excellence. Inspiring the next generation of leaders through holistic education.
                </p>
            </div>
            <div>
                <h4 class="font-bold mb-4 text-school-gold">Contact</h4>
                <ul class="space-y-2 text-slate-300 text-sm">
                    <li><i class="fas fa-phone w-6"></i> 0943046690</li>
                    <li><i class="fas fa-map-marker-alt w-6"></i> 57 14*13, Mandalay</li>
                    <li><i class="fas fa-envelope w-6"></i> info@sanschool.com</li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4 text-school-gold">Quick Links</h4>
                <div class="flex flex-col space-y-2 text-sm text-slate-300">
                    <a href="#about" class="hover:text-white">About Us</a>
                    <a href="#tuition" class="hover:text-white">Admissions</a>
                    <a href="admin/index.html" class="hover:text-white">Admin Portal</a>
                </div>
            </div>
        </div>
        <div class="border-t border-slate-700 pt-8 text-center text-xs text-slate-500">
            &copy; 2026 School. All Rights Reserved.
        </div>
    </footer>



    <!-- Logic -->
    <script type="module">
        import { supabase } from './assets/js/supabase-client.js';

        // --- Mobile Menu ---
        document.getElementById('mobile-btn').onclick = () => {
            const m = document.getElementById('mobile-menu');
            m.classList.toggle('hidden');
        };

        // --- Data Fetching ---

        // 1. ANNOUNCEMENTS & EVENTS
        async function fetchContent() {
            // Announcement Tablet
            const { data: ann } = await supabase.from('announcements').select('*').order('created_at', { ascending: false }).limit(1);
            const container = document.getElementById('latest-announcement-container');

            if (ann && ann.length > 0) {
                const item = ann[0];
                container.innerHTML = `
                    <div class="flex flex-col md:flex-row">
                        ${item.image_url ? `<div class="md:w-1/3 h-64 md:h-auto"><img src="${item.image_url}" class="w-full h-full object-cover"></div>` : ''}
                        <div class="${item.image_url ? 'md:w-2/3' : 'w-full'} p-8 flex flex-col justify-center text-left">
                            <span class="text-school-blue font-bold text-xs uppercase tracking-widest mb-2">Notice Board</span>
                            <h4 class="text-2xl font-bold text-school-navy mb-4 font-serif">${item.title}</h4>
                            <p class="text-slate-600 mb-6 leading-relaxed line-clamp-3">${item.content}</p>
                            <div class="flex justify-between items-center mt-auto">
                                <span class="text-xs text-slate-400 font-mono">${new Date(item.created_at).toLocaleDateString()}</span>
                                <a href="announcements.html" class="text-school-gold font-bold text-sm hover:underline">Read More &rarr;</a>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                container.innerHTML = `<div class="p-12 text-center text-slate-500">No active announcements at this time.</div>`;
            }

            // Events Feed
            const { data: evts } = await supabase.from('events').select('*').order('event_date', { ascending: true }).limit(3);
            const evtGrid = document.getElementById('events-grid');
            if (evts && evts.length) {
                evtGrid.innerHTML = evts.map(e => `
                    <div class="bg-slate-800 rounded-lg overflow-hidden border border-slate-700 hover:border-slate-600 transition group cursor-pointer" onclick="window.location.href='events.html'">
                        <div class="h-48 overflow-hidden relative">
                             ${e.image_url?.match(/\.(mp4|webm)$/i)
                        ? `<video src="${e.image_url}" class="w-full h-full object-cover" controls></video>`
                        : `<img src="${e.image_url || 'https://placehold.co/600x400/222/FFF'}" class="w-full h-full object-cover group-hover:scale-105 transition duration-700">`
                    }
                             <div class="absolute top-2 right-2 bg-school-gold text-school-navy text-xs font-bold px-2 py-1 rounded">
                                ${new Date(e.event_date).toLocaleDateString()}
                             </div>
                        </div>
                        <div class="p-5">
                            <h4 class="font-bold text-lg mb-2 text-white line-clamp-1">${e.title}</h4>
                            <p class="text-slate-400 text-sm line-clamp-2">${e.description || ''}</p>
                            <div class="mt-4 text-xs text-school-gold font-semibold uppercase"><i class="fas fa-map-pin mr-1"></i> ${e.location || 'Campus'}</div>
                        </div>
                    </div>
                `).join('');
            } else {
                evtGrid.innerHTML = `<p class="col-span-3 text-center text-slate-500 py-10">No upcoming events.</p>`;
            }
        }

        // 2. FACULTY (Org Style)
        async function fetchFaculty() {
            document.getElementById('teacher-loading').style.display = 'none';
            const { data } = await supabase.from('teachers').select('*').order('created_at');
            if (!data) return;

            const heads = data.filter(t => t.grade.toLowerCase().includes('principal') || t.grade.toLowerCase().includes('head'));
            const staff = data.filter(t => !heads.includes(t));

            // Render Heads
            const headContainer = document.getElementById('leadership-container');
            if (heads.length > 0) {
                headContainer.innerHTML = heads.map(t => createCard(t, true)).join('');
            }

            // Render Staff
            const staffContainer = document.getElementById('staff-container');
            staffContainer.innerHTML = staff.map(t => createCard(t, false)).join('');
        }

        function createCard(t, isHead) {
            const safe = (str) => (str || '').replace(/'/g, "\\'").replace(/"/g, '&quot;');
            return `
                <div class="text-center group relative cursor-pointer ${isHead ? 'w-full max-w-xs' : ''}" 
                     onclick="openModal('${safe(t.name)}', '${safe(t.grade)}', '${safe(t.photo_url)}', '${safe(t.bio)}')">
                    ${!isHead ? '<div class="org-connector"></div>' : ''}
                    <div class="relative inline-block">
                        <img src="${t.photo_url || 'https://placehold.co/150'}" class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-md group-hover:border-school-gold transition duration-300 bg-white">
                        <div class="absolute bottom-0 right-0 bg-school-navy text-white text-xs w-8 h-8 flex items-center justify-center rounded-full border-2 border-white shadow-sm">
                            <i class="fas fa-plus"></i>
                        </div>
                    </div>
                    <h4 class="mt-4 font-bold text-school-navy text-lg">${t.name}</h4>
                    <p class="text-xs font-bold text-school-blue uppercase tracking-wide">${t.grade}</p>
                </div>
            `;
        }

        // --- Modals & Carousel ---
        window.openModal = (n, r, i, b) => {
            document.getElementById('m-name').textContent = n;
            document.getElementById('m-role').textContent = r;
            document.getElementById('m-photo').src = i;
            document.getElementById('m-bio').textContent = b || "Valued faculty member of School.";
            const m = document.getElementById('profile-modal');
            const bX = document.getElementById('modal-box');
            m.classList.remove('hidden');
            setTimeout(() => { bX.classList.remove('scale-95', 'opacity-0'); bX.classList.add('scale-100', 'opacity-100'); }, 10);
        };
        window.closeModal = () => {
            const m = document.getElementById('profile-modal');
            const bX = document.getElementById('modal-box');
            bX.classList.add('scale-95', 'opacity-0'); bX.classList.remove('scale-100', 'opacity-100');
            setTimeout(() => m.classList.add('hidden'), 200);
        };

        // Carousel
        let slideIndex = 0;
        const slides = document.querySelectorAll('.carousel-slide');
        window.changeSlide = (n) => {
            slides[slideIndex].classList.remove('opacity-100');
            slides[slideIndex].classList.add('opacity-0');
            slideIndex = (slideIndex + n + slides.length) % slides.length;
            slides[slideIndex].classList.remove('opacity-0');
            slides[slideIndex].classList.add('opacity-100');
        };
        setInterval(() => changeSlide(1), 5000);

        // Init
        fetchContent();
        fetchFaculty();
    </script>
</body>

</html>